{"ast":null,"code":"/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { hexToBase64, hrTimeToNanoseconds } from '@opentelemetry/core';\nvar NANOSECONDS = BigInt(1000000000);\nexport function hrTimeToNanos(hrTime) {\n  return BigInt(hrTime[0]) * NANOSECONDS + BigInt(hrTime[1]);\n}\nexport function toLongBits(value) {\n  var low = Number(BigInt.asUintN(32, value));\n  var high = Number(BigInt.asUintN(32, value >> BigInt(32)));\n  return {\n    low: low,\n    high: high\n  };\n}\nexport function encodeAsLongBits(hrTime) {\n  var nanos = hrTimeToNanos(hrTime);\n  return toLongBits(nanos);\n}\nexport function encodeAsString(hrTime) {\n  var nanos = hrTimeToNanos(hrTime);\n  return nanos.toString();\n}\nvar encodeTimestamp = typeof BigInt !== 'undefined' ? encodeAsString : hrTimeToNanoseconds;\nfunction identity(value) {\n  return value;\n}\nfunction optionalHexToBase64(str) {\n  if (str === undefined) return undefined;\n  return hexToBase64(str);\n}\nvar DEFAULT_ENCODER = {\n  encodeHrTime: encodeAsLongBits,\n  encodeSpanContext: hexToBase64,\n  encodeOptionalSpanContext: optionalHexToBase64\n};\nexport function getOtlpEncoder(options) {\n  var _a, _b;\n  if (options === undefined) {\n    return DEFAULT_ENCODER;\n  }\n  var useLongBits = (_a = options.useLongBits) !== null && _a !== void 0 ? _a : true;\n  var useHex = (_b = options.useHex) !== null && _b !== void 0 ? _b : false;\n  return {\n    encodeHrTime: useLongBits ? encodeAsLongBits : encodeTimestamp,\n    encodeSpanContext: useHex ? identity : hexToBase64,\n    encodeOptionalSpanContext: useHex ? identity : optionalHexToBase64\n  };\n}\n//# sourceMappingURL=index.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}